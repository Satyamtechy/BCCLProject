{"ast":null,"code":"import _regeneratorRuntime from\"D:/BCCL/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/BCCL/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/BCCL/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{makeStyles}from'@material-ui/core/styles';import Paper from'@material-ui/core/Paper';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TablePagination from'@material-ui/core/TablePagination';import TableRow from'@material-ui/core/TableRow';import{Button}from'@material-ui/core';import{useHistory}from'react-router-dom';import Navbar from'./Navbar';import'./Display.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{maxWidth:'100vw',backgroundColor:theme.palette.grey[300],paddingTop:theme.spacing(3),marginBottom:'20px'}};});var Display=function Display(){var classes=useStyles();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(10),_useState4=_slicedToArray(_useState3,2),rowsPerPage=_useState4[0],setRowsPerPage=_useState4[1];var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(+event.target.value);setPage(0);};var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),displays=_useState6[0],setDisplays=_useState6[1];var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/display\");case 3:data=_context.sent;if(!data.ok){_context.next=10;break;}_context.next=7;return data.json();case 7:result=_context.sent;setDisplays(result);console.log(result);case 10:_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function getData(){return _ref.apply(this,arguments);};}();var history=useHistory();useEffect(function(){var callDisplayPage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,data,error;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch('/display',{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},credentials:\"include\"});case 3:res=_context2.sent;_context2.next=6;return res.json();case 6:data=_context2.sent;if(!(!res.status===200||!data)){_context2.next=10;break;}error=new Error(res.error);throw error;case 10:_context2.next=16;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](0);console.log({message:\"not logged in\"});history.push('/login');case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[0,12]]);}));return function callDisplayPage(){return _ref2.apply(this,arguments);};}();getData();callDisplayPage();},[history]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Paper,{className:classes.root,children:[/*#__PURE__*/_jsx(TableContainer,{className:classes.container,component:Paper,children:/*#__PURE__*/_jsxs(Table,{stickyHeader:true,\"aria-label\":\"sticky table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Store Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Serial Number\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Material Number\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Material Desc\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Opening Balance\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Recieved Quantity\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Issue Quantity\"}),/*#__PURE__*/_jsx(TableCell,{children:\"BalanceQuantity\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Day & Date\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:displays.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage).map(function(item){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:item.StoreName}),/*#__PURE__*/_jsx(TableCell,{children:item.SerialNumber}),/*#__PURE__*/_jsx(TableCell,{children:item.MaterialNumber}),/*#__PURE__*/_jsx(TableCell,{children:item.MaterialDesc}),/*#__PURE__*/_jsx(TableCell,{children:item.OpeningBalance}),/*#__PURE__*/_jsx(TableCell,{children:item.RecievedQuantity}),/*#__PURE__*/_jsx(TableCell,{children:item.RecievedQuantity}),/*#__PURE__*/_jsx(TableCell,{children:item.RecievedQuantity}),/*#__PURE__*/_jsx(TableCell,{children:item.Day_and_Date})]});})})]})}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[10,25,100]//component=\"div\"\n,count:displays.length,rowsPerPage:rowsPerPage,page:page,onChangePage:handleChangePage,onChangeRowsPerPage:handleChangeRowsPerPage})]}),/*#__PURE__*/_jsx(Button,{className:\"btn\",id:\"btn\",variant:\"contained\",color:\"primary\",href:\"/inputAdmin\",children:\"Feed Details\"})]});};export default Display;","map":{"version":3,"sources":["D:/BCCL/client/src/Components/Display.js"],"names":["React","useState","useEffect","makeStyles","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","Button","useHistory","Navbar","useStyles","theme","root","maxWidth","backgroundColor","palette","grey","paddingTop","spacing","marginBottom","Display","classes","page","setPage","rowsPerPage","setRowsPerPage","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","displays","setDisplays","getData","fetch","data","ok","json","result","console","log","history","callDisplayPage","method","headers","Accept","credentials","res","status","error","Error","message","push","container","slice","map","item","StoreName","SerialNumber","MaterialNumber","MaterialDesc","OpeningBalance","RecievedQuantity","Day_and_Date","length"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport {Button} from '@material-ui/core'\r\nimport {useHistory} from 'react-router-dom'\r\nimport Navbar from './Navbar'\r\nimport './Display.css'\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    root: {\r\n      maxWidth: '100vw',\r\n      backgroundColor:theme.palette.grey[300],\r\n      paddingTop:theme.spacing(3),\r\n      marginBottom:'20px'\r\n    }\r\n  }));\r\n\r\n\r\nconst Display = () => {\r\n\r\n  \r\n\r\n  const classes = useStyles();\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(+event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n\r\n\r\n    \r\n    const [displays,setDisplays]=useState([]);\r\n    const getData=async()=>{\r\n        try {\r\n            const data= await fetch(\"/display\")\r\n            if(data.ok){\r\n                const result=await data.json();\r\n                setDisplays(result)\r\n                console.log(result);\r\n            }\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n  const history=useHistory();\r\n    \r\n  useEffect(() => {\r\n    \r\n  const callDisplayPage=async()=>{\r\n    try {\r\n        const res = await fetch('/display',{\r\n            method:\"GET\",\r\n            headers:{\r\n                Accept:\"application/json\",\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            credentials:\"include\"\r\n        });\r\n\r\n        const data= await res.json();\r\n        if(!res.status===200 ||!data){\r\n            const error = new Error(res.error);\r\n            throw error;\r\n        }\r\n\r\n    } catch (error) {\r\n        console.log({message:\"not logged in\"});\r\n        history.push('/login');\r\n    }\r\n}\r\n\r\ngetData();\r\ncallDisplayPage();\r\n\r\n    }, [history])\r\n\r\n    return (\r\n        <>\r\n        <Navbar />\r\n<Paper className={classes.root}>\r\n      <TableContainer className={classes.container} component={Paper}>\r\n        <Table stickyHeader aria-label=\"sticky table\">\r\n          <TableHead> \r\n            <TableRow>\r\n                <TableCell>Store Name</TableCell>\r\n                <TableCell>Serial Number</TableCell>\r\n                <TableCell>Material Number</TableCell>\r\n                <TableCell>Material Desc</TableCell>\r\n                <TableCell>Opening Balance</TableCell>\r\n                <TableCell>Recieved Quantity</TableCell>\r\n                <TableCell>Issue Quantity</TableCell>\r\n                <TableCell>BalanceQuantity</TableCell>\r\n                <TableCell>Day & Date</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n          {displays.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((item) => (\r\n            <TableRow>\r\n                <TableCell>\r\n                  {item.StoreName}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {item.SerialNumber}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {item.MaterialNumber}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {item.MaterialDesc}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {item.OpeningBalance}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {item.RecievedQuantity}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {item.RecievedQuantity}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {item.RecievedQuantity}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {item.Day_and_Date}\r\n                </TableCell>\r\n            </TableRow>\r\n              ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <TablePagination\r\n        rowsPerPageOptions={[10, 25, 100]}\r\n        //component=\"div\"\r\n        count={displays.length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onChangePage={handleChangePage}\r\n        onChangeRowsPerPage={handleChangeRowsPerPage}\r\n      />\r\n    </Paper>\r\n    <Button className=\"btn\" id=\"btn\" variant='contained' color='primary' href=\"/inputAdmin\">Feed Details</Button>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Display\r\n"]},"metadata":{},"sourceType":"module"}